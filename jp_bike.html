<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>自転車の利用案内と同意 | ココネハウス</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">
<style>
header{
  position: sticky;
  top: 0;
  background:white;
  padding: 1rem 0;
  z-index: 999;
  border-bottom:1px solid #ddd;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.logo img{
  height:50px;
  width:auto;
}
.langs a{margin:0 0.4rem;}
</style>
</head>
<body>

<header>
  <a href="jp_index.html" class="logo">
    <img src="coconehouse_rogo1.png" alt="Cocone House">
  </a>
  <nav class="langs" aria-label="言語選択">
    <a href="jp_bike.html">日本語</a>
    <a href="en_bike.html">English</a>
    <a href="kr_bike.html">한국어</a>
    <a href="cn_bike.html">中文</a>
  </nav>
</header>

<main>
<h1>自転車のご利用について</h1>
<p>
ココネハウスではご宿泊のお客様に<strong>無料自転車貸し出し</strong>を行っております。<br>
以下の案内をお読みいただき、<strong>すべてに同意された方のみ</strong>ご利用ください。
</p>

<h2>保管場所</h2>
<p>
自転車は<strong>1階玄関内の保管スペース</strong>にあります。<br>
後輪に <strong>「cocone」</strong> と記載された自転車が対象です。
</p>

<h2>鍵の保管場所</h2>
<p>
鍵は<strong>3階非常口側のベランダ</strong>にある鍵ボックスに保管しています。<br>
暗証番号は<strong>規則同意後に個別案内</strong>いたします。
</p>

<h2>ご利用前チェック</h2>
<ul>
<li>ブレーキの作動確認</li>
<li>タイヤの空気圧</li>
<li>サドル固定の状態</li>
</ul>
<p>空気が不足している場合は、鍵ボックス横の<strong>空気入れ</strong>をご利用ください。</p>

<h2>利用規則（重要）</h2>

<h3>1. 責任範囲</h3>
<p>
利用中に発生した事故・怪我・物損・第三者への損害について<br>
<strong>当施設は責任を負いかねます。</strong><br>
利用開始時点で<strong>上記に同意したものとみなします</strong>。
</p>

<h3>2. 事故・故障時</h3>
<p>
異常を感じた場合は<strong>すぐ利用を中止</strong>しご連絡ください。<br>
事故が発生した場合は<strong>警察とホストの両方へ</strong>必ずご連絡ください。
</p>

<h3>3. 鍵と管理</h3>
<p>
紛失・盗難にご注意ください。<br>
<strong>鍵紛失時は実費 2,000円</strong>をご請求します。
</p>

<h3>4. 禁止・注意事項</h3>
<ul>
<li>飲酒後の利用禁止</li>
<li>交通法規の遵守</li>
<li>夜間の照明確保</li>
<li>第三者への貸与・譲渡禁止</li>
</ul>

<h3>5. 同意の意味</h3>
<p>
利用開始は<strong>自己責任での利用に同意</strong>したものとみなします。
</p>

<h2>自転車利用 申請フォーム</h2>

<form id="bikeForm" onsubmit="sendBikeForm(event)">
  <input type="hidden" id="subject" name="_subject">
  <input type="hidden" id="message" name="message">

  <label>お名前</label>
  <input type="text" id="name" required>

  <label>部屋番号</label>
  <input type="text" id="room" required>

  <label>利用予定日</label>
  <input type="date" id="date" required>

  <label>電話番号</label>
  <input type="tel" id="phone" required>

  <label style="margin-top:0.8rem;">
    <input type="checkbox" id="agree" required>
    規則をすべて読み、同意します
  </label>

  <p style="text-align:center;margin-top:1.2rem;">
    <button type="submit">同意して申請</button>
  </p>
</form>
</main>

<footer style="text-align:center;padding:2rem 0;color:#444;">
電話: +81-80-5684-0161<br>
メール: <a href="mailto:cocone.fukuoka@gmail.com">cocone.fukuoka@gmail.com</a><br>
住所: 日本 福岡市中央区 黒門6-4 3F
</footer>

<script>
async function sendBikeForm(e){
  e.preventDefault();

  const name = document.getElementById('name').value;
  const room = document.getElementById('room').value;
  const date = document.getElementById('date').value;
  const phone = document.getElementById('phone').value;

  document.getElementById('subject').value = `[自転車利用申請] ${room} / ${name}`;
  document.getElementById('message').value =
`お名前: ${name}
部屋番号: ${room}
利用日: ${date}
電話番号: ${phone}
規則同意: はい`;

  const formData = new FormData();
  formData.append("_subject", document.getElementById("subject").value);
  formData.append("message", document.getElementById("message").value);

  await fetch("https://formspree.io/f/xykgvpan", { method: "POST", body: formData });

  alert("自転車利用の申請が完了しました。ありがとうございます。");
  window.location.reload();
}
</script>

</body>
</html>
